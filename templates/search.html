{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mx-auto px-5 my-6 sm:my-16">
    <div class="w-full mx-auto max-w-sm sm:max-w-lg md:max-w-xl mb-10 md:mb-20 p-6 border border-gray-400 bg-gradient-to-tr from-teal-700 to-green-700 rounded-md">
        <form action="/search/" method="GET" accept-charset="utf-8" class="flex flex-wrap">
            <div class="w-2/3 pr-6">
                <label class="block uppercase tracking-wide text-white text-sm  font-bold mb-1" for="product-search-form">
                    recherche
                </label>
                <input class="appearance-none bg-none rounded-md text-gray-700 py-1 px-2 leading-tight focus:outline-none w-full" type="text" placeholder="{{ request.GET.query }}" aria-label="produit" name="query" required>
            </div>
            <div class="w-1/3">
                <label class="block uppercase tracking-wide text-white text-sm  font-bold mb-1" for="product-search-form">
                    lieu
                </label>
                <input class="appearance-none bg-none rounded-md text-gray-700 py-1 px-2 leading-tight focus:outline-none w-full" type="text" placeholder="{{ request.GET.location }}" aria-label="produit" name="location">
            </div>
            <button class="mx-auto border border-white hover:border-2 text-lg font-light text-white py-2 px-4 mt-6 rounded-md focus:outline-none" type="submit">
                Rechercher
            </button>
        </form>
    </div>
    {% for ad in results %}
    <div class="cursor-pointer w-11/12 sm:w-5/6 md:w-9/10 lg:w-2/3 flex mx-auto mb-5 border border-gray-400 hover:shadow-md rounded-md overflow-hidden">
        <a href="/ad/{{ ad.id }}"></a>
            <div class="flex-none h-32 sm:h-auto w-32 sm:w-48 text-center overflow-hidden bg-gray-400">
                <img class="object-cover w-full h-full" src="{% static 'media/'|add:ad.image.url %}" title="{{ ad.title }}">
            </div>
            <div class="bg-white p-2 sm:p-4 w-full">
                <div class="sm:mb-8">
                    <div class="text-gray-900 font-bold sm:text-xl">{{ ad.title }}</div>
                    <p class="text-green-700 sm:text-lg">{{ ad.action }}</p>
                    
                </div>
                <div class="pt-3">
                    <p class="text-gray-600 items-center text-sm sm:text-base uppercase font-bold tracking-wide">
                        {{ ad.city }}
                    </p>
                    <div class="text-sm sm:text-md">
                        <p class="text-gray-600">{{ ad.created_at.day }}/{{ ad.created_at.month }}, Ã  {{ ad.created_at.time }}</p>
                    </div>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}